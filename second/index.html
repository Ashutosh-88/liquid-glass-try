<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Frosted Glass Card</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Unified Music Player with Playlist -->
    <div class="container">
      <div class="glass-container glass-container--unified">
        <div class="glass-filter"></div>
        <div class="glass-overlay"></div>
        <div class="glass-specular"></div>
        <div class="glass-content glass-content--unified">
          <!-- Playlist Section -->
          <div class="playlist">
            <h2 class="playlist__title">My Playlist</h2>
            <div class="playlist__items">
              <div class="playlist__item playlist__item--active">
                <img
                  class="playlist__item__img"
                  src="https://images.unsplash.com/photo-1619983081593-e2ba5b543168?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3NDk1NzAwNDV8&ixlib=rb-4.1.0&q=80&w=80"
                  alt=""
                />
                <div class="playlist__item__info">
                  <h4 class="playlist__item__title">All Of Me</h4>
                  <span class="playlist__item__artist">Nao</span>
                </div>
                <span class="playlist__item__duration">3:24</span>
              </div>

              <div class="playlist__item">
                <img
                  class="playlist__item__img"
                  src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHNlYXJjaHwxfHxtdXNpY3xlbnwwfHx8fDE3MDk1NzAwNDV8&ixlib=rb-4.1.0&q=80&w=80"
                  alt=""
                />
                <div class="playlist__item__info">
                  <h4 class="playlist__item__title">Breathe Me</h4>
                  <span class="playlist__item__artist">Sia</span>
                </div>
                <span class="playlist__item__duration">4:31</span>
              </div>

              <div class="playlist__item">
                <img
                  class="playlist__item__img"
                  src="https://images.unsplash.com/photo-1511379938547-c1f69419868d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHNlYXJjaHwyfHxtdXNpY3xlbnwwfHx8fDE3MDk1NzAwNDV8&ixlib=rb-4.1.0&q=80&w=80"
                  alt=""
                />
                <div class="playlist__item__info">
                  <h4 class="playlist__item__title">Golden</h4>
                  <span class="playlist__item__artist">Harry Styles</span>
                </div>
                <span class="playlist__item__duration">3:28</span>
              </div>

              <div class="playlist__item">
                <img
                  class="playlist__item__img"
                  src="https://images.unsplash.com/photo-1487180144351-b8472da7d491?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHNlYXJjaHwzfHxtdXNpY3xlbnwwfHx8fDE3MDk1NzAwNDV8&ixlib=rb-4.1.0&q=80&w=80"
                  alt=""
                />
                <div class="playlist__item__info">
                  <h4 class="playlist__item__title">Levitating</h4>
                  <span class="playlist__item__artist">Dua Lipa</span>
                </div>
                <span class="playlist__item__duration">3:23</span>
              </div>
            </div>
          </div>

          <!-- Separator -->
          <div class="separator"></div>

          <!-- Player Controls Section -->
          <div class="player">
            <div class="player__thumb">
              <img
                class="player__img"
                src="https://images.unsplash.com/photo-1619983081593-e2ba5b543168?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3NDk1NzAwNDV8&ixlib=rb-4.1.0&q=80&w=400"
                alt=""
              />
              <div class="player__legend">
                <h3 class="player__legend__title">All Of Me</h3>
                <span class="player__legend__sub-title">Nao</span>
              </div>
            </div>

            <div class="player__controls">
              <div class="player__controls__play">
                <svg viewBox="0 0 448 512" width="24" title="play">
                  <path
                    fill="white"
                    d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"
                  />
                </svg>
              </div>

              <div class="player__controls__ff">
                <svg viewBox="0 0 448 512" width="24" title="play">
                  <path
                    fill="white"
                    d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"
                  />
                </svg>

                <svg viewBox="0 0 448 512" width="24" title="play">
                  <path
                    fill="white"
                    d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"
                  />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="glass-container">
        <div class="glass-filter"></div>
        <div class="glass-overlay"></div>
        <div class="glass-specular"></div>

        <!-- SVG FILTER DEFINITION -->
        <svg style="display: none">
          <filter id="lg-dist" x="0%" y="0%" width="100%" height="100%">
            <feTurbulence
              type="fractalNoise"
              baseFrequency="0.008 0.008"
              numOctaves="2"
              seed="92"
              result="noise"
            />
            <feGaussianBlur in="noise" stdDeviation="2" result="blurred" />
            <feDisplacementMap
              in="SourceGraphic"
              in2="blurred"
              scale="70"
              xChannelSelector="R"
              yChannelSelector="G"
            />
          </filter>
        </svg>
      </div>
    </div>

    <script>
      // Make the glass container draggable
      function makeDraggable(element) {
        let isDragging = false;
        let currentX;
        let currentY;
        let initialX;
        let initialY;
        let xOffset = 0;
        let yOffset = 0;

        element.addEventListener("mousedown", dragStart);
        document.addEventListener("mousemove", drag);
        document.addEventListener("mouseup", dragEnd);

        // Touch events for mobile
        element.addEventListener("touchstart", dragStart, { passive: false });
        document.addEventListener("touchmove", drag, { passive: false });
        document.addEventListener("touchend", dragEnd);

        function dragStart(e) {
          // Don't drag if clicking on interactive elements
          if (
            e.target.closest(".playlist__item") ||
            e.target.closest(".player__controls") ||
            e.target.tagName === "IMG"
          ) {
            return;
          }

          if (e.type === "touchstart") {
            initialX = e.touches[0].clientX - xOffset;
            initialY = e.touches[0].clientY - yOffset;
          } else {
            initialX = e.clientX - xOffset;
            initialY = e.clientY - yOffset;
          }

          if (e.target === element || element.contains(e.target)) {
            isDragging = true;
            element.style.zIndex = "1000";
            element.style.cursor = "grabbing";

            // Add dragging class for additional styling
            element.classList.add("dragging");
          }
        }

        function drag(e) {
          if (isDragging) {
            e.preventDefault();

            if (e.type === "touchmove") {
              currentX = e.touches[0].clientX - initialX;
              currentY = e.touches[0].clientY - initialY;
            } else {
              currentX = e.clientX - initialX;
              currentY = e.clientY - initialY;
            }

            xOffset = currentX;
            yOffset = currentY;

            setTranslate(currentX, currentY, element);
          }
        }

        function dragEnd() {
          if (isDragging) {
            initialX = currentX;
            initialY = currentY;
            isDragging = false;
            element.style.zIndex = "auto";
            element.style.cursor = "grab";

            // Remove dragging class
            element.classList.remove("dragging");
          }
        }

        function setTranslate(xPos, yPos, el) {
          // Preserve the original centering transform and add the drag offset
          el.style.transform = `translate(calc(-50% + ${xPos}px), calc(-50% + ${yPos}px))`;
        }
      }

      // Initialize draggable functionality when DOM is loaded
      document.addEventListener("DOMContentLoaded", function () {
        const glassContainer = document.querySelector(
          ".glass-container--unified"
        );
        if (glassContainer) {
          makeDraggable(glassContainer);
        }
      });
    </script>
  </body>
</html>
